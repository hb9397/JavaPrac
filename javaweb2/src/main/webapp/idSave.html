<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>아이디 저장</title>
</head>
<body>
  <form action="Login.jsp" id="Loginform">
      아이디: <input type ='text' id="id" name="id" required="required"/><br/>
      <input type ='checkbox' value="check" id="idsave"/>아이디 저장<br/>
      <input type="submit" value="로그인">
  </form>
</body>
<script>
    let idsave = document.getElementById("idsave");
    let ids = document.getElementById("id");
    let loginform = document.getElementById("Loginform");

    // 처음 로딩될 때 ids 존재 여부를 확인해서 작업하는 코드 추가
    // 존재 하지 않는 경우 input에 입력된 ids 값을 localStorage 의 value 값에 삽입한뒤 chekbox를 체크해두도록 처리
    window.addEventListener("load", (e) =>{
        if(typeof localStorage.ids != 'undefined'){
            ids.value = localStorage.ids;
            idsave.checked = true;
        }
    })

    // Form 데이터 전송할 때 확인 idsave를 확인해서 아이디를 저장

    loginform.addEventListener("submit", (e) => {
        if(idsave.checked === true){
            localStorage.ids = ids.value;
        }
        else {
            localStorage.clear();
        }
    })
</script>
</html>